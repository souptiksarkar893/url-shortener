<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Link Statistics - URL Shortener</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <header>
    <div class="container">
      <h1>üîó URL Shortener</h1>
      <nav>
        <a href="/">Dashboard</a>
        <a href="/healthz" target="_blank">Health</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- Back Button -->
    <div class="back-nav">
      <a href="/" class="btn btn-secondary">‚Üê Back to Dashboard</a>
    </div>

    <!-- Loading State -->
    <div id="loading-state" class="loading-state">
      <div class="spinner"></div>
      <p>Loading statistics...</p>
    </div>

    <!-- Error State -->
    <div id="error-state" class="alert alert-error" style="display: none;">
      <strong>Error:</strong> <span id="error-message"></span>
    </div>

    <!-- Stats Content -->
    <div id="stats-content" style="display: none;">
      <section class="card">
        <h2>Link Statistics</h2>
        
        <div class="stats-grid">
          <div class="stat-item">
            <label>Short Code</label>
            <div class="stat-value">
              <code id="stat-code">-</code>
              <button class="copy-btn" id="copy-code-btn" data-url="">Copy Link</button>
            </div>
          </div>

          <div class="stat-item">
            <label>Target URL</label>
            <div class="stat-value">
              <a id="stat-url" href="" target="_blank" class="url-link">-</a>
              <button class="copy-btn" id="copy-url-btn" data-url="">Copy</button>
            </div>
          </div>

          <div class="stat-item">
            <label>Total Clicks</label>
            <div class="stat-value stat-number">
              <span id="stat-clicks">0</span>
            </div>
          </div>

          <div class="stat-item">
            <label>Last Clicked</label>
            <div class="stat-value">
              <span id="stat-last-clicked">Never</span>
            </div>
          </div>

          <div class="stat-item">
            <label>Created At</label>
            <div class="stat-value">
              <span id="stat-created">-</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Actions Section -->
      <section class="card">
        <h3>Actions</h3>
        <div class="action-buttons">
          <button id="delete-btn" class="btn btn-danger">Delete Link</button>
          <a href="/" class="btn btn-secondary">Back to Dashboard</a>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 URL Shortener. Built with ‚ù§Ô∏è</p>
    </div>
  </footer>

  <script src="/stats.js"></script>
</body>
</html>
